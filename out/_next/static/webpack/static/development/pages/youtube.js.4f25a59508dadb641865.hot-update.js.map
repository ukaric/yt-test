{"version":3,"file":"static/webpack/static/development/pages/youtube.js.4f25a59508dadb641865.hot-update.js","sources":["webpack:///./pages/youtube.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport VideoPlayer from \"../components/Youtube\";\n\nconst API_KEY = \"AIzaSyBdrdmszpVcI7r-BLyGE3bI822Z7Mohy4g\";\n\nclass Youtube extends Component {\n  state = {\n    active: null,\n    gapiLoaded: false,\n    brodcast: null,\n    videoId: null\n  };\n\n  loadYoutubeApi = () => {\n    const script = document.createElement(\"script\");\n    script.src = \"https://apis.google.com/js/client.js\";\n\n    script.onload = () => {\n      gapi.load(\"client\", () => {\n        gapi.client.setApiKey(API_KEY);\n        gapi.client.load(\"youtube\", \"v3\", () => {\n          this.setState({ gapiLoaded: true });\n        });\n      });\n    };\n\n    document.body.appendChild(script);\n  };\n\n  componentDidMount() {\n    this.loadYoutubeApi();\n  }\n\n  request = async () => {\n    const response = await fetch(\n      \"https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=UCmDM6zuSTROOnZnjlt2RJGQ&eventType=live&type=video&key=AIzaSyBdrdmszpVcI7r-BLyGE3bI822Z7Mohy4g\"\n    );\n    const json = await response.json();\n    console.log(json);\n    const data = json.items[0];\n    console.log(data);\n    this.setState({\n      brodcast: data.snippet,\n      active: data.snippet.liveBroadcastContent ? \"live\" : false,\n      videoId: data.id.videoId\n    });\n  };\n\n  render() {\n    const { active, gapiLoaded } = this.state;\n\n    if (!gapiLoaded) {\n      return <h1>Nije jos</h1>;\n    }\n\n    return (\n      <>\n        <p>\n          <button onClick={this.request}>Check live</button>\n          Status <strong>{active || \"unkown\"}</strong>\n        </p>\n        {active && (\n          <div>\n            <h3>{this.state.brodcast.title}</h3>\n            <img src={this.state.brodcast.thumbnails.high.url} />\n            <VideoPlayer\n              width={400}\n              height={400}\n              videoId={`${this.state.videoId}`}\n            />\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nexport default Youtube;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AALA;AACA;AACA;;;AAiBA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AArEA;AACA;AAuEA;;;;A","sourceRoot":""}